{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}

<style type="text/css">
    
</style>

{% block javascript_extended %}

{% endblock %}

{% block content %}


<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.0.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
<!-- <script type="text/javascript" src="{% static 'js/Chart.min.js' %}"></script> -->
<div class="page-header">
    <h3>{% trans "Inspection Overdue" %} <small>UNCOMPLETED &amp; OVERDUE</small></h3>
</div>

<canvas id="myChartOverdue" width="500" height="200"></canvas>
<script type="text/javascript">

    // var data1 = {
    //     datasets: [{
    //         data: [10, 20, 30],
    //         backgroundColor: [
    //             'rgba(255, 0, 0, 0.1)',
    //             'rgba(0, 255, 0, 0.1)',
    //             'rgba(0, 0, 255, 0.1)',
    //         ]            
    //     }],

    //     // These labels appear in the legend and in the tooltips when hovering different arcs
    //     labels: [
    //         'Red',
    //         'Yellow',
    //         'Blue'
    //     ],
    // };



    // var ctx = $("#myChartOverdue").get(0).getContext("2d");
    //         new Chart(ctx, {
    //             type: 'pie', 
    //             data: data1,
    //         });

    $.get('{% url "line_chart_json_overdue" %}', function(data) {
        var ctx = $("#myChartOverdue").get(0).getContext("2d");

        new Chart(ctx, {
            type: 'doughnut',  // 'pie'
            data: data,
            options: {}
        });
    });
</script>

<div class="page-header">
    <h3>{% trans "COMPARE PAST 3 MONTHS" %} <small></small></h3>
</div>
<canvas id="myChartCompare" width="500" height="200"></canvas>
<script type="text/javascript">

    
// http://www.chartjs.org/docs/latest/axes/cartesian/linear.html
    $.get('{% url "line_chart_json_compare" %}', function(data) {
        var ctx = $("#myChartCompare").get(0).getContext("2d");

        new Chart(ctx, {
            type: 'bar', 
            data: data,

            options: {
                scales: {
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Number of Daily Inspection'
                        },
                        ticks: {
                            beginAtZero:true,
                            min: 0,
                            suggestedMin: 0,
                            stepSize:1,
                        }
                    }]
                }
            }            
        });
    });
</script>

<div class="page-header">
    <h3>{% trans "FOR LATEST 1 WEEK" %} <small>FOR LATEST 1 WEEK</small></h3>
</div>
<canvas id="myChartLast" width="500" height="200"></canvas>
<script type="text/javascript">    
// http://www.chartjs.org/docs/latest/axes/cartesian/linear.html
    $.get('{% url "line_chart_json_lasts" %}', function(data) {
        var ctx = $("#myChartLast").get(0).getContext("2d");

        new Chart(ctx, {
            type: 'bar', 
            data: data,

            options: {
                scales: {
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Number of Daily Inspection'
                        },
                        ticks: {
                            beginAtZero:true,
                            min: 0,
                            suggestedMin: 0,
                            stepSize:1,
                        }
                    }]
                }
            }            
        });
    });
</script>


<div class="page-header">
    <h3>{% trans "LAST 5 ACTUAL DAYS" %} <small>LAST 5 ACTUAL DAYS</small></h3>
</div>

<table class="text-center table table-hover table-striped ">
    <thead>
        <th></th>
        {% for date in dates %}
        <th class="text-center">
            {{date}}
        </th>
        {% endfor %}
    </thead>
    <tbody>
    {% for key,value in counters.items %}
    <tr>
        <td>
            {{key}}
        </td>
        {% for key0,value0 in value.items %}
        <td>
            {{value0}}
        </td>
        {% endfor %}
    </tr>
    {% endfor %}        
    </tbody>
    
</table>

<canvas id="myChart" width="500" height="200"></canvas>

<script type="text/javascript">
    $.get('{% url "line_chart_json" %}', function(data) {
        var ctx = $("#myChart").get(0).getContext("2d");
        new Chart(ctx, {
            type: 'bar', 
            data: data,
        });
    });
</script>

{% endblock %}