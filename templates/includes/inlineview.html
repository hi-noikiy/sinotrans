{% load i18n %}
{% load myform %}

<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">
            {% trans title %}
        </h3>
    </div>
    <div class="panel-body">
        {% if object_foreign_set.count > 0 %}
            <table class="table table-striped table-hover table-responsive table-condensed"  style="width: 100%">
                <thead>
                    <tr>
                        {% for fieldname in fields_foreign %}
                        <th>{{ object_foreign_set.first|my_get_field_verbose_name:fieldname }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                {% for object_foreign in object_foreign_set.all %}
                    <tr>
                        {% for fieldname in fields_foreign %}
                        <td>
                            {% if fieldname in fields_foreign_display %}
                                {{ object_foreign|my_get_field_display:fieldname }}
                            {% else %}
                                {{ object_foreign|my_get_field_value:fieldname }}
                            {% endif %}
                        </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
                </tbody>                            
            </table>
        {% else %}
           {% trans "Nothing found" %}
        {% endif %}
    </div>
</div>  